{"ast":null,"code":"\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst __1 = require(\"../../..\");\nconst __2 = require(\"../../..\");\nconst TsQDecorator_1 = require(\"../../../tsQ/decorator/TsQDecorator\");\nclass GenericRingBuffer extends __1.Buffer {\n  constructor(capacity, limit, position, readPosition, mark) {\n    let readonly = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n    super(capacity, limit, position, mark);\n    this._readPosition = readPosition;\n    this._buf = new Array(capacity);\n    this._readonly = readonly;\n  }\n  get() {\n    let position = (this.readPosition() + 1) % this.capacity();\n    this.readPosition(position);\n    return this._buf[position - 1];\n  }\n  put(element) {\n    this._buf[this.position()] = element;\n    this.position((this.position() + 1) % this.capacity());\n    return this;\n  }\n  isReadOnly() {\n    return this._readonly;\n  }\n  readPosition(newPosition) {\n    if (newPosition === undefined) return this._readPosition;\n    if (newPosition < 0 || newPosition > this.limit()) throw new __2.IllegalArgumentException('New read position out of bound');\n    this._readPosition = newPosition;\n    return this;\n  }\n  toArray() {\n    return this._buf;\n  }\n}\n__decorate([TsQDecorator_1.TsQ()], GenericRingBuffer.prototype, \"toArray\", null);\nexports.GenericRingBuffer = GenericRingBuffer;","map":{"version":3,"mappings":";;;;;;;;;;;;AAAA;AAEA;AACA;AAEA,uBAAkC,SAAQA,UAAM;EAM5CC,YAAYC,QAAgB,EAAEC,KAAa,EAAEC,QAAgB,EAAEC,YAAoB,EAAEC,IAAY,EAA2B;IAAA,IAAzBC,+EAAoB,KAAK;IACxH,KAAK,CAACL,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEE,IAAI,CAAC;IACtC,IAAI,CAACE,aAAa,GAAGH,YAAY;IACjC,IAAI,CAACI,IAAI,GAAG,IAAIC,KAAK,CAAIR,QAAQ,CAAC;IAClC,IAAI,CAACS,SAAS,GAAGJ,QAAQ;EAC7B;EAEOK,GAAG;IACN,IAAIR,QAAQ,GAAW,CAAC,IAAI,CAACC,YAAY,EAAE,GAAG,CAAC,IAAI,IAAI,CAACH,QAAQ,EAAE;IAClE,IAAI,CAACG,YAAY,CAACD,QAAQ,CAAC;IAC3B,OAAO,IAAI,CAACK,IAAI,CAACL,QAAQ,GAAG,CAAC,CAAC;EAClC;EAEOS,GAAG,CAACC,OAAU;IACjB,IAAI,CAACL,IAAI,CAAC,IAAI,CAACL,QAAQ,EAAE,CAAC,GAAGU,OAAO;IACpC,IAAI,CAACV,QAAQ,CAAC,CAAC,IAAI,CAACA,QAAQ,EAAE,GAAG,CAAC,IAAI,IAAI,CAACF,QAAQ,EAAE,CAAC;IACtD,OAAO,IAAI;EACf;EAEAa,UAAU;IACN,OAAO,IAAI,CAACJ,SAAS;EACzB;EAION,YAAY,CAACW,WAAoB;IAEpC,IAAIA,WAAW,KAAKC,SAAS,EACzB,OAAO,IAAI,CAACT,aAAa;IAE7B,IAAKQ,WAAW,GAAG,CAAC,IAAMA,WAAW,GAAG,IAAI,CAACb,KAAK,EAAG,EACjD,MAAM,IAAIe,4BAAwB,CAAE,gCAAgC,CAAC;IAEzE,IAAI,CAACV,aAAa,GAAGQ,WAAW;IAChC,OAAO,IAAI;EACf;EAGOG,OAAO;IACV,OAAO,IAAI,CAACV,IAAI;EACpB;;AAFAW,YADCC,kBAAG,EAAE,gDAGL;AA9CLC","names":["__1","constructor","capacity","limit","position","readPosition","mark","readonly","_readPosition","_buf","Array","_readonly","get","put","element","isReadOnly","newPosition","undefined","__2","toArray","__decorate","TsQDecorator_1","exports"],"sources":["../../../../src/collections/buffer/generic-ring-buffer/generic-ring-buffer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}