{"ast":null,"code":"/*!\r\n * random-bytes\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\n\n'use strict';\n\n/**\r\n * Module dependencies.\r\n * @private\r\n */\nvar crypto = require('crypto');\n\n/**\r\n * Module variables.\r\n * @private\r\n */\n\nvar generateAttempts = crypto.randomBytes === crypto.pseudoRandomBytes ? 1 : 3;\n\n/**\r\n * Module exports.\r\n * @public\r\n */\n\nmodule.exports = randomBytes;\nmodule.exports.sync = randomBytesSync;\n\n/**\r\n * Generates strong pseudo-random bytes.\r\n *\r\n * @param {number} size\r\n * @param {function} [callback]\r\n * @return {Promise}\r\n * @public\r\n */\n\nfunction randomBytes(size, callback) {\n  // validate callback is a function, if provided\n  if (callback !== undefined && typeof callback !== 'function') {\n    throw new TypeError('argument callback must be a function');\n  }\n\n  // require the callback without promises\n  if (!callback && !global.Promise) {\n    throw new TypeError('argument callback is required');\n  }\n  if (callback) {\n    // classic callback style\n    return generateRandomBytes(size, generateAttempts, callback);\n  }\n  return new Promise(function executor(resolve, reject) {\n    generateRandomBytes(size, generateAttempts, function onRandomBytes(err, str) {\n      if (err) return reject(err);\n      resolve(str);\n    });\n  });\n}\n\n/**\r\n * Generates strong pseudo-random bytes sync.\r\n *\r\n * @param {number} size\r\n * @return {Buffer}\r\n * @public\r\n */\n\nfunction randomBytesSync(size) {\n  var err = null;\n  for (var i = 0; i < generateAttempts; i++) {\n    try {\n      return crypto.randomBytes(size);\n    } catch (e) {\n      err = e;\n    }\n  }\n  throw err;\n}\n\n/**\r\n * Generates strong pseudo-random bytes.\r\n *\r\n * @param {number} size\r\n * @param {number} attempts\r\n * @param {function} callback\r\n * @private\r\n */\n\nfunction generateRandomBytes(size, attempts, callback) {\n  crypto.randomBytes(size, function onRandomBytes(err, buf) {\n    if (!err) return callback(null, buf);\n    if (! --attempts) return callback(err);\n    setTimeout(generateRandomBytes.bind(null, size, attempts, callback), 10);\n  });\n}","map":{"version":3,"names":["crypto","require","generateAttempts","randomBytes","pseudoRandomBytes","module","exports","sync","randomBytesSync","size","callback","undefined","TypeError","global","Promise","generateRandomBytes","executor","resolve","reject","onRandomBytes","err","str","i","e","attempts","buf","setTimeout","bind"],"sources":["C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/random-bytes/index.js"],"sourcesContent":["/*!\r\n * random-bytes\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n'use strict'\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar crypto = require('crypto')\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar generateAttempts = crypto.randomBytes === crypto.pseudoRandomBytes ? 1 : 3\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nmodule.exports = randomBytes\r\nmodule.exports.sync = randomBytesSync\r\n\r\n/**\r\n * Generates strong pseudo-random bytes.\r\n *\r\n * @param {number} size\r\n * @param {function} [callback]\r\n * @return {Promise}\r\n * @public\r\n */\r\n\r\nfunction randomBytes(size, callback) {\r\n  // validate callback is a function, if provided\r\n  if (callback !== undefined && typeof callback !== 'function') {\r\n    throw new TypeError('argument callback must be a function')\r\n  }\r\n\r\n  // require the callback without promises\r\n  if (!callback && !global.Promise) {\r\n    throw new TypeError('argument callback is required')\r\n  }\r\n\r\n  if (callback) {\r\n    // classic callback style\r\n    return generateRandomBytes(size, generateAttempts, callback)\r\n  }\r\n\r\n  return new Promise(function executor(resolve, reject) {\r\n    generateRandomBytes(size, generateAttempts, function onRandomBytes(err, str) {\r\n      if (err) return reject(err)\r\n      resolve(str)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * Generates strong pseudo-random bytes sync.\r\n *\r\n * @param {number} size\r\n * @return {Buffer}\r\n * @public\r\n */\r\n\r\nfunction randomBytesSync(size) {\r\n  var err = null\r\n\r\n  for (var i = 0; i < generateAttempts; i++) {\r\n    try {\r\n      return crypto.randomBytes(size)\r\n    } catch (e) {\r\n      err = e\r\n    }\r\n  }\r\n\r\n  throw err\r\n}\r\n\r\n/**\r\n * Generates strong pseudo-random bytes.\r\n *\r\n * @param {number} size\r\n * @param {number} attempts\r\n * @param {function} callback\r\n * @private\r\n */\r\n\r\nfunction generateRandomBytes(size, attempts, callback) {\r\n  crypto.randomBytes(size, function onRandomBytes(err, buf) {\r\n    if (!err) return callback(null, buf)\r\n    if (!--attempts) return callback(err)\r\n    setTimeout(generateRandomBytes.bind(null, size, attempts, callback), 10)\r\n  })\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AACA;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;;AAE9B;AACA;AACA;AACA;;AAEA,IAAIC,gBAAgB,GAAGF,MAAM,CAACG,WAAW,KAAKH,MAAM,CAACI,iBAAiB,GAAG,CAAC,GAAG,CAAC;;AAE9E;AACA;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAGH,WAAW;AAC5BE,MAAM,CAACC,OAAO,CAACC,IAAI,GAAGC,eAAe;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASL,WAAW,CAACM,IAAI,EAAEC,QAAQ,EAAE;EACnC;EACA,IAAIA,QAAQ,KAAKC,SAAS,IAAI,OAAOD,QAAQ,KAAK,UAAU,EAAE;IAC5D,MAAM,IAAIE,SAAS,CAAC,sCAAsC,CAAC;EAC7D;;EAEA;EACA,IAAI,CAACF,QAAQ,IAAI,CAACG,MAAM,CAACC,OAAO,EAAE;IAChC,MAAM,IAAIF,SAAS,CAAC,+BAA+B,CAAC;EACtD;EAEA,IAAIF,QAAQ,EAAE;IACZ;IACA,OAAOK,mBAAmB,CAACN,IAAI,EAAEP,gBAAgB,EAAEQ,QAAQ,CAAC;EAC9D;EAEA,OAAO,IAAII,OAAO,CAAC,SAASE,QAAQ,CAACC,OAAO,EAAEC,MAAM,EAAE;IACpDH,mBAAmB,CAACN,IAAI,EAAEP,gBAAgB,EAAE,SAASiB,aAAa,CAACC,GAAG,EAAEC,GAAG,EAAE;MAC3E,IAAID,GAAG,EAAE,OAAOF,MAAM,CAACE,GAAG,CAAC;MAC3BH,OAAO,CAACI,GAAG,CAAC;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASb,eAAe,CAACC,IAAI,EAAE;EAC7B,IAAIW,GAAG,GAAG,IAAI;EAEd,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpB,gBAAgB,EAAEoB,CAAC,EAAE,EAAE;IACzC,IAAI;MACF,OAAOtB,MAAM,CAACG,WAAW,CAACM,IAAI,CAAC;IACjC,CAAC,CAAC,OAAOc,CAAC,EAAE;MACVH,GAAG,GAAGG,CAAC;IACT;EACF;EAEA,MAAMH,GAAG;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASL,mBAAmB,CAACN,IAAI,EAAEe,QAAQ,EAAEd,QAAQ,EAAE;EACrDV,MAAM,CAACG,WAAW,CAACM,IAAI,EAAE,SAASU,aAAa,CAACC,GAAG,EAAEK,GAAG,EAAE;IACxD,IAAI,CAACL,GAAG,EAAE,OAAOV,QAAQ,CAAC,IAAI,EAAEe,GAAG,CAAC;IACpC,IAAI,CAAC,GAAED,QAAQ,EAAE,OAAOd,QAAQ,CAACU,GAAG,CAAC;IACrCM,UAAU,CAACX,mBAAmB,CAACY,IAAI,CAAC,IAAI,EAAElB,IAAI,EAAEe,QAAQ,EAAEd,QAAQ,CAAC,EAAE,EAAE,CAAC;EAC1E,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script"}