{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n  function Subscriber(destination) {\n    var _this = _super.call(this) || this;\n    _this.isStopped = false;\n    if (destination) {\n      _this.destination = destination;\n      if (isSubscription(destination)) {\n        destination.add(_this);\n      }\n    } else {\n      _this.destination = EMPTY_OBSERVER;\n    }\n    return _this;\n  }\n  Subscriber.create = function (next, error, complete) {\n    return new SafeSubscriber(next, error, complete);\n  };\n  Subscriber.prototype.next = function (value) {\n    if (this.isStopped) {\n      handleStoppedNotification(nextNotification(value), this);\n    } else {\n      this._next(value);\n    }\n  };\n  Subscriber.prototype.error = function (err) {\n    if (this.isStopped) {\n      handleStoppedNotification(errorNotification(err), this);\n    } else {\n      this.isStopped = true;\n      this._error(err);\n    }\n  };\n  Subscriber.prototype.complete = function () {\n    if (this.isStopped) {\n      handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n    } else {\n      this.isStopped = true;\n      this._complete();\n    }\n  };\n  Subscriber.prototype.unsubscribe = function () {\n    if (!this.closed) {\n      this.isStopped = true;\n      _super.prototype.unsubscribe.call(this);\n      this.destination = null;\n    }\n  };\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n  Subscriber.prototype._error = function (err) {\n    try {\n      this.destination.error(err);\n    } finally {\n      this.unsubscribe();\n    }\n  };\n  Subscriber.prototype._complete = function () {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  };\n  return Subscriber;\n}(Subscription);\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n  return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = function () {\n  function ConsumerObserver(partialObserver) {\n    this.partialObserver = partialObserver;\n  }\n  ConsumerObserver.prototype.next = function (value) {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.next) {\n      try {\n        partialObserver.next(value);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  };\n  ConsumerObserver.prototype.error = function (err) {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.error) {\n      try {\n        partialObserver.error(err);\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    } else {\n      handleUnhandledError(err);\n    }\n  };\n  ConsumerObserver.prototype.complete = function () {\n    var partialObserver = this.partialObserver;\n    if (partialObserver.complete) {\n      try {\n        partialObserver.complete();\n      } catch (error) {\n        handleUnhandledError(error);\n      }\n    }\n  };\n  return ConsumerObserver;\n}();\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n  function SafeSubscriber(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n    var partialObserver;\n    if (isFunction(observerOrNext) || !observerOrNext) {\n      partialObserver = {\n        next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined,\n        error: error !== null && error !== void 0 ? error : undefined,\n        complete: complete !== null && complete !== void 0 ? complete : undefined\n      };\n    } else {\n      var context_1;\n      if (_this && config.useDeprecatedNextContext) {\n        context_1 = Object.create(observerOrNext);\n        context_1.unsubscribe = function () {\n          return _this.unsubscribe();\n        };\n        partialObserver = {\n          next: observerOrNext.next && bind(observerOrNext.next, context_1),\n          error: observerOrNext.error && bind(observerOrNext.error, context_1),\n          complete: observerOrNext.complete && bind(observerOrNext.complete, context_1)\n        };\n      } else {\n        partialObserver = observerOrNext;\n      }\n    }\n    _this.destination = new ConsumerObserver(partialObserver);\n    return _this;\n  }\n  return SafeSubscriber;\n}(Subscriber);\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    captureError(error);\n  } else {\n    reportUnhandledError(error);\n  }\n}\nfunction defaultErrorHandler(err) {\n  throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n  var onStoppedNotification = config.onStoppedNotification;\n  onStoppedNotification && timeoutProvider.setTimeout(function () {\n    return onStoppedNotification(notification, subscriber);\n  });\n}\nexport var EMPTY_OBSERVER = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop\n};","map":{"version":3,"names":["__extends","isFunction","isSubscription","Subscription","config","reportUnhandledError","noop","nextNotification","errorNotification","COMPLETE_NOTIFICATION","timeoutProvider","captureError","Subscriber","_super","destination","_this","call","isStopped","add","EMPTY_OBSERVER","create","next","error","complete","SafeSubscriber","prototype","value","handleStoppedNotification","_next","err","_error","_complete","unsubscribe","closed","_bind","Function","bind","fn","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","undefined","context_1","useDeprecatedNextContext","Object","useDeprecatedSynchronousErrorHandling","defaultErrorHandler","notification","subscriber","onStoppedNotification","setTimeout"],"sources":["C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/rxjs/dist/esm5/internal/Subscriber.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module"}