{"ast":null,"code":"'use strict';\n\nvar BN = require('bn.js');\nvar inherits = require('inherits');\nvar Base = require('./base');\nvar utils = require('../utils');\nfunction MontCurve(conf) {\n  Base.call(this, 'mont', conf);\n  this.a = new BN(conf.a, 16).toRed(this.red);\n  this.b = new BN(conf.b, 16).toRed(this.red);\n  this.i4 = new BN(4).toRed(this.red).redInvm();\n  this.two = new BN(2).toRed(this.red);\n  this.a24 = this.i4.redMul(this.a.redAdd(this.two));\n}\ninherits(MontCurve, Base);\nmodule.exports = MontCurve;\nMontCurve.prototype.validate = function validate(point) {\n  var x = point.normalize().x;\n  var x2 = x.redSqr();\n  var rhs = x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);\n  var y = rhs.redSqrt();\n  return y.redSqr().cmp(rhs) === 0;\n};\nfunction Point(curve, x, z) {\n  Base.BasePoint.call(this, curve, 'projective');\n  if (x === null && z === null) {\n    this.x = this.curve.one;\n    this.z = this.curve.zero;\n  } else {\n    this.x = new BN(x, 16);\n    this.z = new BN(z, 16);\n    if (!this.x.red) this.x = this.x.toRed(this.curve.red);\n    if (!this.z.red) this.z = this.z.toRed(this.curve.red);\n  }\n}\ninherits(Point, Base.BasePoint);\nMontCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\n  return this.point(utils.toArray(bytes, enc), 1);\n};\nMontCurve.prototype.point = function point(x, z) {\n  return new Point(this, x, z);\n};\nMontCurve.prototype.pointFromJSON = function pointFromJSON(obj) {\n  return Point.fromJSON(this, obj);\n};\nPoint.prototype.precompute = function precompute() {\n  // No-op\n};\nPoint.prototype._encode = function _encode() {\n  return this.getX().toArray('be', this.curve.p.byteLength());\n};\nPoint.fromJSON = function fromJSON(curve, obj) {\n  return new Point(curve, obj[0], obj[1] || curve.one);\n};\nPoint.prototype.inspect = function inspect() {\n  if (this.isInfinity()) return '<EC Point Infinity>';\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) + ' z: ' + this.z.fromRed().toString(16, 2) + '>';\n};\nPoint.prototype.isInfinity = function isInfinity() {\n  // XXX This code assumes that zero is always zero in red\n  return this.z.cmpn(0) === 0;\n};\nPoint.prototype.dbl = function dbl() {\n  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#doubling-dbl-1987-m-3\n  // 2M + 2S + 4A\n\n  // A = X1 + Z1\n  var a = this.x.redAdd(this.z);\n  // AA = A^2\n  var aa = a.redSqr();\n  // B = X1 - Z1\n  var b = this.x.redSub(this.z);\n  // BB = B^2\n  var bb = b.redSqr();\n  // C = AA - BB\n  var c = aa.redSub(bb);\n  // X3 = AA * BB\n  var nx = aa.redMul(bb);\n  // Z3 = C * (BB + A24 * C)\n  var nz = c.redMul(bb.redAdd(this.curve.a24.redMul(c)));\n  return this.curve.point(nx, nz);\n};\nPoint.prototype.add = function add() {\n  throw new Error('Not supported on Montgomery curve');\n};\nPoint.prototype.diffAdd = function diffAdd(p, diff) {\n  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#diffadd-dadd-1987-m-3\n  // 4M + 2S + 6A\n\n  // A = X2 + Z2\n  var a = this.x.redAdd(this.z);\n  // B = X2 - Z2\n  var b = this.x.redSub(this.z);\n  // C = X3 + Z3\n  var c = p.x.redAdd(p.z);\n  // D = X3 - Z3\n  var d = p.x.redSub(p.z);\n  // DA = D * A\n  var da = d.redMul(a);\n  // CB = C * B\n  var cb = c.redMul(b);\n  // X5 = Z1 * (DA + CB)^2\n  var nx = diff.z.redMul(da.redAdd(cb).redSqr());\n  // Z5 = X1 * (DA - CB)^2\n  var nz = diff.x.redMul(da.redISub(cb).redSqr());\n  return this.curve.point(nx, nz);\n};\nPoint.prototype.mul = function mul(k) {\n  var t = k.clone();\n  var a = this; // (N / 2) * Q + Q\n  var b = this.curve.point(null, null); // (N / 2) * Q\n  var c = this; // Q\n\n  for (var bits = []; t.cmpn(0) !== 0; t.iushrn(1)) bits.push(t.andln(1));\n  for (var i = bits.length - 1; i >= 0; i--) {\n    if (bits[i] === 0) {\n      // N * Q + Q = ((N / 2) * Q + Q)) + (N / 2) * Q\n      a = a.diffAdd(b, c);\n      // N * Q = 2 * ((N / 2) * Q + Q))\n      b = b.dbl();\n    } else {\n      // N * Q = ((N / 2) * Q + Q) + ((N / 2) * Q)\n      b = a.diffAdd(b, c);\n      // N * Q + Q = 2 * ((N / 2) * Q + Q)\n      a = a.dbl();\n    }\n  }\n  return b;\n};\nPoint.prototype.mulAdd = function mulAdd() {\n  throw new Error('Not supported on Montgomery curve');\n};\nPoint.prototype.jumlAdd = function jumlAdd() {\n  throw new Error('Not supported on Montgomery curve');\n};\nPoint.prototype.eq = function eq(other) {\n  return this.getX().cmp(other.getX()) === 0;\n};\nPoint.prototype.normalize = function normalize() {\n  this.x = this.x.redMul(this.z.redInvm());\n  this.z = this.curve.one;\n  return this;\n};\nPoint.prototype.getX = function getX() {\n  // Normalize coordinates\n  this.normalize();\n  return this.x.fromRed();\n};","map":{"version":3,"names":["BN","require","inherits","Base","utils","MontCurve","conf","call","a","toRed","red","b","i4","redInvm","two","a24","redMul","redAdd","module","exports","prototype","validate","point","x","normalize","x2","redSqr","rhs","y","redSqrt","cmp","Point","curve","z","BasePoint","one","zero","decodePoint","bytes","enc","toArray","pointFromJSON","obj","fromJSON","precompute","_encode","getX","p","byteLength","inspect","isInfinity","fromRed","toString","cmpn","dbl","aa","redSub","bb","c","nx","nz","add","Error","diffAdd","diff","d","da","cb","redISub","mul","k","t","clone","bits","iushrn","push","andln","i","length","mulAdd","jumlAdd","eq","other"],"sources":["C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/elliptic/lib/elliptic/curve/mont.js"],"sourcesContent":["'use strict';\r\n\r\nvar BN = require('bn.js');\r\nvar inherits = require('inherits');\r\nvar Base = require('./base');\r\n\r\nvar utils = require('../utils');\r\n\r\nfunction MontCurve(conf) {\r\n  Base.call(this, 'mont', conf);\r\n\r\n  this.a = new BN(conf.a, 16).toRed(this.red);\r\n  this.b = new BN(conf.b, 16).toRed(this.red);\r\n  this.i4 = new BN(4).toRed(this.red).redInvm();\r\n  this.two = new BN(2).toRed(this.red);\r\n  this.a24 = this.i4.redMul(this.a.redAdd(this.two));\r\n}\r\ninherits(MontCurve, Base);\r\nmodule.exports = MontCurve;\r\n\r\nMontCurve.prototype.validate = function validate(point) {\r\n  var x = point.normalize().x;\r\n  var x2 = x.redSqr();\r\n  var rhs = x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);\r\n  var y = rhs.redSqrt();\r\n\r\n  return y.redSqr().cmp(rhs) === 0;\r\n};\r\n\r\nfunction Point(curve, x, z) {\r\n  Base.BasePoint.call(this, curve, 'projective');\r\n  if (x === null && z === null) {\r\n    this.x = this.curve.one;\r\n    this.z = this.curve.zero;\r\n  } else {\r\n    this.x = new BN(x, 16);\r\n    this.z = new BN(z, 16);\r\n    if (!this.x.red)\r\n      this.x = this.x.toRed(this.curve.red);\r\n    if (!this.z.red)\r\n      this.z = this.z.toRed(this.curve.red);\r\n  }\r\n}\r\ninherits(Point, Base.BasePoint);\r\n\r\nMontCurve.prototype.decodePoint = function decodePoint(bytes, enc) {\r\n  return this.point(utils.toArray(bytes, enc), 1);\r\n};\r\n\r\nMontCurve.prototype.point = function point(x, z) {\r\n  return new Point(this, x, z);\r\n};\r\n\r\nMontCurve.prototype.pointFromJSON = function pointFromJSON(obj) {\r\n  return Point.fromJSON(this, obj);\r\n};\r\n\r\nPoint.prototype.precompute = function precompute() {\r\n  // No-op\r\n};\r\n\r\nPoint.prototype._encode = function _encode() {\r\n  return this.getX().toArray('be', this.curve.p.byteLength());\r\n};\r\n\r\nPoint.fromJSON = function fromJSON(curve, obj) {\r\n  return new Point(curve, obj[0], obj[1] || curve.one);\r\n};\r\n\r\nPoint.prototype.inspect = function inspect() {\r\n  if (this.isInfinity())\r\n    return '<EC Point Infinity>';\r\n  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +\r\n      ' z: ' + this.z.fromRed().toString(16, 2) + '>';\r\n};\r\n\r\nPoint.prototype.isInfinity = function isInfinity() {\r\n  // XXX This code assumes that zero is always zero in red\r\n  return this.z.cmpn(0) === 0;\r\n};\r\n\r\nPoint.prototype.dbl = function dbl() {\r\n  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#doubling-dbl-1987-m-3\r\n  // 2M + 2S + 4A\r\n\r\n  // A = X1 + Z1\r\n  var a = this.x.redAdd(this.z);\r\n  // AA = A^2\r\n  var aa = a.redSqr();\r\n  // B = X1 - Z1\r\n  var b = this.x.redSub(this.z);\r\n  // BB = B^2\r\n  var bb = b.redSqr();\r\n  // C = AA - BB\r\n  var c = aa.redSub(bb);\r\n  // X3 = AA * BB\r\n  var nx = aa.redMul(bb);\r\n  // Z3 = C * (BB + A24 * C)\r\n  var nz = c.redMul(bb.redAdd(this.curve.a24.redMul(c)));\r\n  return this.curve.point(nx, nz);\r\n};\r\n\r\nPoint.prototype.add = function add() {\r\n  throw new Error('Not supported on Montgomery curve');\r\n};\r\n\r\nPoint.prototype.diffAdd = function diffAdd(p, diff) {\r\n  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#diffadd-dadd-1987-m-3\r\n  // 4M + 2S + 6A\r\n\r\n  // A = X2 + Z2\r\n  var a = this.x.redAdd(this.z);\r\n  // B = X2 - Z2\r\n  var b = this.x.redSub(this.z);\r\n  // C = X3 + Z3\r\n  var c = p.x.redAdd(p.z);\r\n  // D = X3 - Z3\r\n  var d = p.x.redSub(p.z);\r\n  // DA = D * A\r\n  var da = d.redMul(a);\r\n  // CB = C * B\r\n  var cb = c.redMul(b);\r\n  // X5 = Z1 * (DA + CB)^2\r\n  var nx = diff.z.redMul(da.redAdd(cb).redSqr());\r\n  // Z5 = X1 * (DA - CB)^2\r\n  var nz = diff.x.redMul(da.redISub(cb).redSqr());\r\n  return this.curve.point(nx, nz);\r\n};\r\n\r\nPoint.prototype.mul = function mul(k) {\r\n  var t = k.clone();\r\n  var a = this; // (N / 2) * Q + Q\r\n  var b = this.curve.point(null, null); // (N / 2) * Q\r\n  var c = this; // Q\r\n\r\n  for (var bits = []; t.cmpn(0) !== 0; t.iushrn(1))\r\n    bits.push(t.andln(1));\r\n\r\n  for (var i = bits.length - 1; i >= 0; i--) {\r\n    if (bits[i] === 0) {\r\n      // N * Q + Q = ((N / 2) * Q + Q)) + (N / 2) * Q\r\n      a = a.diffAdd(b, c);\r\n      // N * Q = 2 * ((N / 2) * Q + Q))\r\n      b = b.dbl();\r\n    } else {\r\n      // N * Q = ((N / 2) * Q + Q) + ((N / 2) * Q)\r\n      b = a.diffAdd(b, c);\r\n      // N * Q + Q = 2 * ((N / 2) * Q + Q)\r\n      a = a.dbl();\r\n    }\r\n  }\r\n  return b;\r\n};\r\n\r\nPoint.prototype.mulAdd = function mulAdd() {\r\n  throw new Error('Not supported on Montgomery curve');\r\n};\r\n\r\nPoint.prototype.jumlAdd = function jumlAdd() {\r\n  throw new Error('Not supported on Montgomery curve');\r\n};\r\n\r\nPoint.prototype.eq = function eq(other) {\r\n  return this.getX().cmp(other.getX()) === 0;\r\n};\r\n\r\nPoint.prototype.normalize = function normalize() {\r\n  this.x = this.x.redMul(this.z.redInvm());\r\n  this.z = this.curve.one;\r\n  return this;\r\n};\r\n\r\nPoint.prototype.getX = function getX() {\r\n  // Normalize coordinates\r\n  this.normalize();\r\n\r\n  return this.x.fromRed();\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}