{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar __1 = require(\"../../..\");\nvar __2 = require(\"../../..\");\nvar TsQDecorator_1 = require(\"../../../tsQ/decorator/TsQDecorator\");\nvar GenericRingBuffer = /*#__PURE__*/function (_1$Buffer) {\n  _inherits(GenericRingBuffer, _1$Buffer);\n  var _super = _createSuper(GenericRingBuffer);\n  function GenericRingBuffer(capacity, limit, position, readPosition, mark) {\n    var _this;\n    var readonly = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n    _classCallCheck(this, GenericRingBuffer);\n    _this = _super.call(this, capacity, limit, position, mark);\n    _this._readPosition = readPosition;\n    _this._buf = new Array(capacity);\n    _this._readonly = readonly;\n    return _this;\n  }\n  _createClass(GenericRingBuffer, [{\n    key: \"get\",\n    value: function get() {\n      var position = (this.readPosition() + 1) % this.capacity();\n      this.readPosition(position);\n      return this._buf[position - 1];\n    }\n  }, {\n    key: \"put\",\n    value: function put(element) {\n      this._buf[this.position()] = element;\n      this.position((this.position() + 1) % this.capacity());\n      return this;\n    }\n  }, {\n    key: \"isReadOnly\",\n    value: function isReadOnly() {\n      return this._readonly;\n    }\n  }, {\n    key: \"readPosition\",\n    value: function readPosition(newPosition) {\n      if (newPosition === undefined) return this._readPosition;\n      if (newPosition < 0 || newPosition > this.limit()) throw new __2.IllegalArgumentException('New read position out of bound');\n      this._readPosition = newPosition;\n      return this;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      return this._buf;\n    }\n  }]);\n  return GenericRingBuffer;\n}(__1.Buffer);\n__decorate([TsQDecorator_1.TsQ()], GenericRingBuffer.prototype, \"toArray\", null);\nexports.GenericRingBuffer = GenericRingBuffer;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAA0D,IAE1DA,iBAAkC;EAAA;EAAA;EAM9B,2BAAYC,QAAgB,EAAEC,KAAa,EAAEC,QAAgB,EAAEC,YAAoB,EAAEC,IAAY,EAA2B;IAAA;IAAA,IAAzBC,+EAAoB,KAAK;IAAA;IACxH,0BAAML,QAAQ,EAAEC,KAAK,EAAEC,QAAQ,EAAEE,IAAI;IACrC,MAAKE,aAAa,GAAGH,YAAY;IACjC,MAAKI,IAAI,GAAG,IAAIC,KAAK,CAAIR,QAAQ,CAAC;IAClC,MAAKS,SAAS,GAAGJ,QAAQ;IAAC;EAC9B;EAAC;IAAA;IAAA,OAEM,eAAG;MACN,IAAIH,QAAQ,GAAW,CAAC,IAAI,CAACC,YAAY,EAAE,GAAG,CAAC,IAAI,IAAI,CAACH,QAAQ,EAAE;MAClE,IAAI,CAACG,YAAY,CAACD,QAAQ,CAAC;MAC3B,OAAO,IAAI,CAACK,IAAI,CAACL,QAAQ,GAAG,CAAC,CAAC;IAClC;EAAC;IAAA;IAAA,OAEM,aAAIQ,OAAU;MACjB,IAAI,CAACH,IAAI,CAAC,IAAI,CAACL,QAAQ,EAAE,CAAC,GAAGQ,OAAO;MACpC,IAAI,CAACR,QAAQ,CAAC,CAAC,IAAI,CAACA,QAAQ,EAAE,GAAG,CAAC,IAAI,IAAI,CAACF,QAAQ,EAAE,CAAC;MACtD,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAED,sBAAU;MACN,OAAO,IAAI,CAACS,SAAS;IACzB;EAAC;IAAA;IAAA,OAIM,sBAAaE,WAAoB;MAEpC,IAAIA,WAAW,KAAKC,SAAS,EACzB,OAAO,IAAI,CAACN,aAAa;MAE7B,IAAKK,WAAW,GAAG,CAAC,IAAMA,WAAW,GAAG,IAAI,CAACV,KAAK,EAAG,EACjD,MAAM,IAAIY,4BAAwB,CAAE,gCAAgC,CAAC;MAEzE,IAAI,CAACP,aAAa,GAAGK,WAAW;MAChC,OAAO,IAAI;IACf;EAAC;IAAA;IAAA,OAGM,mBAAO;MACV,OAAO,IAAI,CAACJ,IAAI;IACpB;EAAC;EAAA;AAAA,EA9CqCO,UAAM;AA4C5CC,YADCC,kBAAG,EAAE,gDAGL;AA9CLC","names":["GenericRingBuffer","capacity","limit","position","readPosition","mark","readonly","_readPosition","_buf","Array","_readonly","element","newPosition","undefined","__2","__1","__decorate","TsQDecorator_1","exports"],"sources":["../../../../src/collections/buffer/generic-ring-buffer/generic-ring-buffer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}