{"ast":null,"code":"'use strict';\n\nvar inherits = require('inherits');\nvar Buffer = require('safer-buffer').Buffer;\nvar DERDecoder = require('./der');\nfunction PEMDecoder(entity) {\n  DERDecoder.call(this, entity);\n  this.enc = 'pem';\n}\ninherits(PEMDecoder, DERDecoder);\nmodule.exports = PEMDecoder;\nPEMDecoder.prototype.decode = function decode(data, options) {\n  var lines = data.toString().split(/[\\r\\n]+/g);\n  var label = options.label.toUpperCase();\n  var re = /^-----(BEGIN|END) ([^-]+)-----$/;\n  var start = -1;\n  var end = -1;\n  for (var i = 0; i < lines.length; i++) {\n    var match = lines[i].match(re);\n    if (match === null) continue;\n    if (match[2] !== label) continue;\n    if (start === -1) {\n      if (match[1] !== 'BEGIN') break;\n      start = i;\n    } else {\n      if (match[1] !== 'END') break;\n      end = i;\n      break;\n    }\n  }\n  if (start === -1 || end === -1) throw new Error('PEM section not found for: ' + label);\n  var base64 = lines.slice(start + 1, end).join('');\n  // Remove excessive symbols\n  base64.replace(/[^a-z0-9+/=]+/gi, '');\n  var input = Buffer.from(base64, 'base64');\n  return DERDecoder.prototype.decode.call(this, input, options);\n};","map":{"version":3,"names":["inherits","require","Buffer","DERDecoder","PEMDecoder","entity","call","enc","module","exports","prototype","decode","data","options","lines","toString","split","label","toUpperCase","re","start","end","i","length","match","Error","base64","slice","join","replace","input","from"],"sources":["C:/Users/Amali/Desktop/Building_the_IoT_w._P2P_and_Cloud_Computing/IoTProject/node_modules/asn1.js/lib/asn1/decoders/pem.js"],"sourcesContent":["'use strict';\r\n\r\nconst inherits = require('inherits');\r\nconst Buffer = require('safer-buffer').Buffer;\r\n\r\nconst DERDecoder = require('./der');\r\n\r\nfunction PEMDecoder(entity) {\r\n  DERDecoder.call(this, entity);\r\n  this.enc = 'pem';\r\n}\r\ninherits(PEMDecoder, DERDecoder);\r\nmodule.exports = PEMDecoder;\r\n\r\nPEMDecoder.prototype.decode = function decode(data, options) {\r\n  const lines = data.toString().split(/[\\r\\n]+/g);\r\n\r\n  const label = options.label.toUpperCase();\r\n\r\n  const re = /^-----(BEGIN|END) ([^-]+)-----$/;\r\n  let start = -1;\r\n  let end = -1;\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const match = lines[i].match(re);\r\n    if (match === null)\r\n      continue;\r\n\r\n    if (match[2] !== label)\r\n      continue;\r\n\r\n    if (start === -1) {\r\n      if (match[1] !== 'BEGIN')\r\n        break;\r\n      start = i;\r\n    } else {\r\n      if (match[1] !== 'END')\r\n        break;\r\n      end = i;\r\n      break;\r\n    }\r\n  }\r\n  if (start === -1 || end === -1)\r\n    throw new Error('PEM section not found for: ' + label);\r\n\r\n  const base64 = lines.slice(start + 1, end).join('');\r\n  // Remove excessive symbols\r\n  base64.replace(/[^a-z0-9+/=]+/gi, '');\r\n\r\n  const input = Buffer.from(base64, 'base64');\r\n  return DERDecoder.prototype.decode.call(this, input, options);\r\n};\r\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,IAAMC,MAAM,GAAGD,OAAO,CAAC,cAAc,CAAC,CAACC,MAAM;AAE7C,IAAMC,UAAU,GAAGF,OAAO,CAAC,OAAO,CAAC;AAEnC,SAASG,UAAU,CAACC,MAAM,EAAE;EAC1BF,UAAU,CAACG,IAAI,CAAC,IAAI,EAAED,MAAM,CAAC;EAC7B,IAAI,CAACE,GAAG,GAAG,KAAK;AAClB;AACAP,QAAQ,CAACI,UAAU,EAAED,UAAU,CAAC;AAChCK,MAAM,CAACC,OAAO,GAAGL,UAAU;AAE3BA,UAAU,CAACM,SAAS,CAACC,MAAM,GAAG,SAASA,MAAM,CAACC,IAAI,EAAEC,OAAO,EAAE;EAC3D,IAAMC,KAAK,GAAGF,IAAI,CAACG,QAAQ,EAAE,CAACC,KAAK,CAAC,UAAU,CAAC;EAE/C,IAAMC,KAAK,GAAGJ,OAAO,CAACI,KAAK,CAACC,WAAW,EAAE;EAEzC,IAAMC,EAAE,GAAG,iCAAiC;EAC5C,IAAIC,KAAK,GAAG,CAAC,CAAC;EACd,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,KAAK,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;IACrC,IAAME,KAAK,GAAGV,KAAK,CAACQ,CAAC,CAAC,CAACE,KAAK,CAACL,EAAE,CAAC;IAChC,IAAIK,KAAK,KAAK,IAAI,EAChB;IAEF,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAKP,KAAK,EACpB;IAEF,IAAIG,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAII,KAAK,CAAC,CAAC,CAAC,KAAK,OAAO,EACtB;MACFJ,KAAK,GAAGE,CAAC;IACX,CAAC,MAAM;MACL,IAAIE,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,EACpB;MACFH,GAAG,GAAGC,CAAC;MACP;IACF;EACF;EACA,IAAIF,KAAK,KAAK,CAAC,CAAC,IAAIC,GAAG,KAAK,CAAC,CAAC,EAC5B,MAAM,IAAII,KAAK,CAAC,6BAA6B,GAAGR,KAAK,CAAC;EAExD,IAAMS,MAAM,GAAGZ,KAAK,CAACa,KAAK,CAACP,KAAK,GAAG,CAAC,EAAEC,GAAG,CAAC,CAACO,IAAI,CAAC,EAAE,CAAC;EACnD;EACAF,MAAM,CAACG,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC;EAErC,IAAMC,KAAK,GAAG5B,MAAM,CAAC6B,IAAI,CAACL,MAAM,EAAE,QAAQ,CAAC;EAC3C,OAAOvB,UAAU,CAACO,SAAS,CAACC,MAAM,CAACL,IAAI,CAAC,IAAI,EAAEwB,KAAK,EAAEjB,OAAO,CAAC;AAC/D,CAAC"},"metadata":{},"sourceType":"script"}